:root{--bg: #0b1020;--bg-deep: #0f172a;--ink: #e2e8f0;--muted: #94a3b8;--accent: #38bdf8;--accent-2: #fb7185;--accent-3: #fbbf24;--accent-soft: rgba(56, 189, 248, .18);--teal: #22d3ee;--panel: rgba(15, 23, 42, .9);--panel-soft: rgba(15, 23, 42, .72);--border: rgba(148, 163, 184, .2);--shadow: 0 28px 60px rgba(2, 6, 23, .6);--field-bg: rgba(15, 23, 42, .75);--rarity-common: #4ade80;--rarity-uncommon: #38bdf8;--rarity-rare: #a855f7;--rarity-common-bg: rgba(74, 222, 128, .16);--rarity-uncommon-bg: rgba(56, 189, 248, .16);--rarity-rare-bg: rgba(168, 85, 247, .16)}*{box-sizing:border-box}html{background-color:#0b1020}body{margin:0;font-family:Sora,Helvetica Neue,Arial,sans-serif;background:linear-gradient(160deg,#0b1020 0%,#111827 45%,#0b132b 100%);color:var(--ink);min-height:100vh;overflow-x:hidden;background-color:#0b1020}body:before{content:"";position:fixed;top:-30vh;right:-10vw;bottom:-30vh;left:-10vw;background:radial-gradient(circle at 10% 20%,rgba(56,189,248,.18),transparent 50%),radial-gradient(circle at 80% 15%,rgba(236,72,153,.16),transparent 55%),radial-gradient(circle at 70% 85%,rgba(251,191,36,.16),transparent 60%);z-index:-1}h1,h2,h3,h4{font-family:Space Grotesk,Trebuchet MS,sans-serif;font-weight:600;margin:0}p{margin:0}.app-shell{max-width:1180px;width:100%;margin:0 auto;padding:48px 24px 72px;position:relative;display:flex;flex-direction:column;align-items:stretch;gap:32px;animation:fadeIn .8s ease}.app-header{position:relative;width:100%;display:flex;flex-direction:column;gap:12px;padding:28px 240px 28px 32px;border-radius:24px;color:#f8fafc;background:linear-gradient(135deg,#1d4ed8 80%,#38bdf8 100%);box-shadow:0 24px 50px #0206178c;overflow:hidden}.app-header:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(circle at 15% 20%,rgba(255,255,255,.3),transparent 45%),radial-gradient(circle at 80% 10%,rgba(255,255,255,.2),transparent 45%);pointer-events:none}.app-header>*{position:relative;z-index:1}.eyebrow{text-transform:uppercase;letter-spacing:.2em;font-size:12px;font-weight:600;color:#f8fafccc}.subtitle{max-width:580px;color:#f8fafce6;line-height:1.6}.app-footer{text-align:center;font-size:13px;color:var(--muted)}.app-footer a{color:var(--accent);text-decoration:none}.app-footer a:hover{text-decoration:underline}.app-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:24px;width:100%}.login-shell{min-height:70vh;display:flex;align-items:center;justify-content:center;padding:24px}.login-panel{width:min(520px,100%);padding:32px;text-align:center}.login-header{display:grid;gap:12px;margin-bottom:20px}.login-subtitle{color:var(--muted);line-height:1.6;font-size:14px}.login-panel .eyebrow{color:var(--accent)}.auth-pill{position:absolute;top:64px;right:40px;padding:12px 16px;max-width:320px;z-index:2}.auth-pill-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.auth-status{display:grid;gap:6px;font-size:13px;color:var(--muted)}.auth-form{display:grid;gap:12px}.auth-actions{display:flex;gap:12px;flex-wrap:wrap}.panel{background:linear-gradient(180deg,rgba(15,23,42,.95),rgba(15,23,42,.85));border:1px solid var(--border);border-radius:20px;padding:24px;box-shadow:var(--shadow);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);animation:slideUp .6s ease}.panel-header{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin-bottom:20px}.panel-subtitle{color:var(--muted);margin-top:6px;font-size:14px}.badge{background:linear-gradient(135deg,rgba(56,189,248,.25),rgba(251,113,133,.3));color:#e2e8f0;padding:6px 14px;border-radius:999px;font-weight:600;font-size:12px}.panel-badges{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:flex-end}.expected-badge{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;border:1px dashed var(--border);background:rgba(15,23,42,.8);font-size:12px;font-weight:600;color:var(--ink);max-width:240px}.expected-badge.expected-empty{color:var(--muted)}.expected-label{padding:2px 8px;border-radius:999px;background:rgba(56,189,248,.2);color:#e0f2fe;font-size:10px;text-transform:uppercase;letter-spacing:.05em}.expected-name{white-space:normal;line-height:1.2}.expected-badge.expected-empty .expected-name{color:var(--muted)}.expected-badge.rarity-common .expected-name{color:var(--rarity-common)}.expected-badge.rarity-uncommon .expected-name{color:var(--rarity-uncommon)}.expected-badge.rarity-rare .expected-name{color:var(--rarity-rare)}.workbench{grid-column:span 7}.inventory-panel,.dm-panel{grid-column:span 5}.almanac-panel{grid-column:span 12}.workbench-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:20px}.form-block{display:flex;flex-direction:column;gap:12px}.select-grid{display:grid;gap:12px}.select-field{display:flex;flex-direction:column;gap:6px;font-size:13px;font-weight:600;color:var(--muted)}select,input,textarea{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:var(--field-bg);font-family:inherit;font-size:14px;color:var(--ink)}input::placeholder{color:#94a3b8cc}input[type=radio],input[type=checkbox]{width:auto;padding:0}textarea{min-height:160px;resize:vertical}.discipline-grid{display:grid;gap:10px}.radio-card{display:flex;align-items:center;justify-content:flex-start;gap:8px;width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:rgba(15,23,42,.7);font-weight:600;color:var(--ink)}.hint{font-size:12px;color:var(--muted)}.stat-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin:20px 0}.stat-card{padding:12px 14px;border-radius:14px;background:rgba(15,23,42,.7);border:1px solid var(--border);display:flex;flex-direction:column;gap:6px}.stat-card strong{font-size:20px}.actions{display:grid;gap:14px;margin-bottom:16px}.toggle{display:flex;align-items:center;gap:10px;font-size:13px;color:var(--muted)}.radio-card input,.toggle input{margin:0}button{border:none;cursor:pointer;font-weight:600;border-radius:999px;padding:10px 18px;font-size:14px}button.primary{background:linear-gradient(135deg,var(--accent) 0%,#6366f1 50%,var(--accent-2) 100%);color:#fff;box-shadow:0 16px 24px #02061766}button.ghost{background:transparent;border:1px solid var(--border);color:var(--ink)}button:disabled{opacity:.6;cursor:not-allowed}.panel-callout{background:rgba(56,189,248,.15);border-radius:12px;padding:12px 14px;font-size:13px;color:var(--ink)}.panel-callout.error{background:rgba(248,113,113,.2);color:#fecaca}.result-card{background:rgba(15,23,42,.75);border-radius:16px;padding:18px;border:1px solid var(--border);display:grid;gap:10px}.result-card h3{color:var(--ink)}.result-card.rarity-common h3{color:var(--rarity-common)}.result-card.rarity-uncommon h3{color:var(--rarity-uncommon)}.result-card.rarity-rare h3{color:var(--rarity-rare)}.result-card.result-unknown h3{color:var(--muted)}.result-card.result-unknown{border-style:dashed;border-color:#94a3b866;background:rgba(15,23,42,.6);color:var(--muted)}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(15,23,42,.45);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:center;padding:24px;z-index:30}.modal-content{width:min(560px,100%);background:rgba(15,23,42,.95);border-radius:24px;padding:24px;border:1px solid rgba(56,189,248,.2);box-shadow:0 30px 60px #020617b3;display:grid;gap:16px}.modal-header{display:flex;justify-content:space-between;align-items:center;gap:12px}.result-meta{font-size:13px;color:var(--muted)}.result-effect{font-size:15px;line-height:1.5}.result-details{display:flex;flex-wrap:wrap;gap:14px;font-size:12px;color:var(--muted)}.notice{font-size:12px;color:var(--muted)}.inventory-list{display:grid;gap:14px;max-height:420px;overflow:auto;padding:6px;scrollbar-width:thin;scrollbar-color:rgba(148,163,184,.5) transparent}.inventory-list::-webkit-scrollbar{width:8px}.inventory-list::-webkit-scrollbar-track{background:transparent}.inventory-list::-webkit-scrollbar-thumb{background:rgba(148,163,184,.4);border-radius:999px;border:2px solid transparent;background-clip:padding-box}.inventory-list:hover::-webkit-scrollbar-thumb{background:rgba(148,163,184,.6)}.inventory-row{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;padding:14px 16px;border-radius:14px;background:rgba(15,23,42,.75);border:1px solid var(--border)}.inventory-row h4{color:var(--ink)}.inventory-row.rarity-common h4{color:var(--rarity-common)}.inventory-row.rarity-uncommon h4{color:var(--rarity-uncommon)}.inventory-row.rarity-rare h4{color:var(--rarity-rare)}.almanac-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px;min-width:0}.almanac-column{min-width:0}.almanac-column h3{margin-bottom:10px;font-size:18px}.almanac-slots{display:grid;gap:8px}.almanac-slot{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:12px;border:1px dashed var(--border);background:rgba(15,23,42,.75);font-size:13px;width:100%;min-width:0;text-align:left;font-family:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.almanac-slot.discovered{border-style:solid;font-weight:600}.almanac-slot:disabled{cursor:default;opacity:1}.slot-index{width:24px;height:24px;border-radius:999px;background:rgba(56,189,248,.2);color:#e0f2fe;display:inline-flex;align-items:center;justify-content:center;font-size:12px;font-weight:600}.slot-name{flex:1}.almanac-slot.unknown .slot-name{color:var(--muted)}.almanac-slot.discovered .slot-name{color:var(--ink)}.almanac-slot.discovered.rarity-common .slot-name{color:var(--rarity-common)}.almanac-slot.discovered.rarity-uncommon .slot-name{color:var(--rarity-uncommon)}.almanac-slot.discovered.rarity-rare .slot-name{color:var(--rarity-rare)}.result-card.rarity-common,.inventory-row.rarity-common,.almanac-slot.rarity-common,.expected-badge.rarity-common{border-color:#2e7d3280;background:linear-gradient(90deg,var(--rarity-common-bg),rgba(15,23,42,.9))}.result-card.rarity-uncommon,.inventory-row.rarity-uncommon,.almanac-slot.rarity-uncommon,.expected-badge.rarity-uncommon{border-color:#1e5aa780;background:linear-gradient(90deg,var(--rarity-uncommon-bg),rgba(15,23,42,.9))}.result-card.rarity-rare,.inventory-row.rarity-rare,.almanac-slot.rarity-rare,.expected-badge.rarity-rare{border-color:#6a3fa080;background:linear-gradient(90deg,var(--rarity-rare-bg),rgba(15,23,42,.9))}.inventory-meta{font-size:12px;color:var(--muted);margin-top:4px}.inventory-stats{font-size:12px;margin-top:6px;color:var(--ink)}.inventory-qty{background:rgba(56,189,248,.18);color:#e0f2fe;font-weight:700;padding:6px 12px;border-radius:999px}.dm-grid{display:grid;gap:16px}.dm-card{padding:16px;border-radius:16px;border:1px solid var(--border);background:rgba(15,23,42,.75);display:grid;gap:12px}.dm-wide{grid-column:1 / -1}.inventory-edit{display:grid;gap:10px;max-height:340px;overflow:auto;padding:6px;scrollbar-width:thin;scrollbar-color:rgba(148,163,184,.5) transparent}.inventory-edit::-webkit-scrollbar{width:8px}.inventory-edit::-webkit-scrollbar-track{background:transparent}.inventory-edit::-webkit-scrollbar-thumb{background:rgba(148,163,184,.4);border-radius:999px;border:2px solid transparent;background-clip:padding-box}.inventory-edit:hover::-webkit-scrollbar-thumb{background:rgba(148,163,184,.6)}.inventory-edit-row{display:grid;grid-template-columns:minmax(0,1fr) 110px 88px;align-items:center;gap:12px;font-size:13px;color:var(--muted)}.name-button{background:transparent;border:none;padding:0;font:inherit;font-weight:600;color:var(--ink);text-align:left;cursor:pointer}.name-button:focus-visible{outline:2px solid rgba(56,189,248,.4);outline-offset:2px;border-radius:6px}.name-edit{display:grid;gap:6px}.name-edit input{width:100%;min-width:0}.name-actions{display:flex;flex-wrap:wrap;gap:6px}button.tiny{padding:6px 10px;font-size:12px}.inventory-edit-row .ingredient-stats{font-variant-numeric:tabular-nums;text-align:center;color:var(--muted)}.inventory-edit-row .inventory-input{justify-self:end;width:88px;font-variant-numeric:tabular-nums;text-align:right}.inventory-edit-row.rarity-common .name-button{color:var(--rarity-common)}.inventory-edit-row.rarity-uncommon .name-button{color:var(--rarity-uncommon)}.inventory-edit-row.rarity-rare .name-button{color:var(--rarity-rare)}.button-row{display:flex;gap:12px;flex-wrap:wrap}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 960px){.app-shell{padding:32px 16px 56px;max-width:100%}.app-grid{display:flex;flex-direction:column;gap:18px}.app-grid>.panel{width:100%;justify-self:stretch}.app-header{padding:24px 140px 24px 20px}.auth-pill{position:static;align-self:stretch;width:100%;max-width:none;padding:10px 12px}.almanac-grid{grid-template-columns:1fr}.almanac-panel{width:100%}.almanac-slot{min-width:0}.workbench,.inventory-panel,.dm-panel{grid-column:1 / -1;width:100%}.workbench-grid{grid-template-columns:1fr}}@media (max-width: 640px){.app-shell{padding:28px 14px 48px}.app-header{padding:20px 120px 20px 16px}.auth-pill{align-self:flex-end;max-width:200px;padding:8px 10px}.panel{padding:18px}.panel-header{flex-direction:column;align-items:flex-start}}
